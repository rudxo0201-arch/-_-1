# PRD: 뉴스 하브루타 질문 생성기

> **Version**: 1.0.0
> **Last Updated**: 2026-02-01
> **Status**: Draft
> **Reference**: https://test-one1.vercel.app/

---

## 1. 제품 개요

### 1.1 제품명
**뉴스 하브루타 질문 생성기** (News Havruta Question Generator)

### 1.2 한 줄 정의
뉴스 기사를 입력하면 AI(Gemini)가 아이와 부모가 나눌 수 있는 3단계 하브루타 대화 가이드를 자동 생성하는 교육 도구

### 1.3 배경 및 목적

**문제 정의:**
- 부모가 아이와 뉴스를 함께 읽고 토론하고 싶지만 적절한 질문을 만들기 어려움
- 뉴스 기사가 아이 눈높이에 맞지 않아 수동적 소비에 그침
- 비판적 사고력과 가치관 형성을 위한 체계적 대화 도구 부재

**솔루션:**
유대인 토론 교육법 "하브루타"를 AI로 구현하여, 뉴스 기사를 연령대별 맞춤 대화 가이드로 변환

### 1.4 타겟 사용자

| 사용자 | 니즈 | 사용 시나리오 |
|--------|------|---------------|
| **학부모** | 아이와 의미 있는 대화를 나누고 싶음 | 저녁 식사 후 뉴스 기사로 대화 |
| **교사** | 뉴스 활용 수업 자료가 필요 | 시사 수업, NIE(신문활용교육) |
| **교육 전문가** | 비판적 사고력 발달 도구 | 토론 수업, 학습 코칭 |

---

## 2. 기능 요구사항

### 2.1 핵심 기능 (Core Features)

#### F1. 기사 입력
| 항목 | 내용 |
|------|------|
| **설명** | 사용자가 뉴스 기사 텍스트를 입력 |
| **입력 방식** | 텍스트 복사-붙여넣기 (textarea) |
| **소스** | 신문, 온라인 기사, 시험지 등 |
| **단축키** | Cmd+Enter / Ctrl+Enter로 제출 |
| **유효성 검사** | 빈 입력 방지, 최소 길이 제한 |

#### F2. 연령대 선택
| 항목 | 내용 |
|------|------|
| **설명** | 아이의 학년에 맞는 눈높이 조절 |
| **옵션** | 초등 저학년(1-3), 초등 고학년(4-6), 중학생, 고등학생 |
| **기본값** | 초등 고학년 |
| **영향 범위** | 어휘 수준, 질문 깊이, 활동 난이도 |

#### F3. 기사 분석 결과
| 항목 | 내용 |
|------|------|
| **핵심 사건** | 뉴스의 주요 내용을 아이 눈높이로 3-4문장 요약 |
| **사회적 배경** | 사건이 발생한 맥락과 배경 설명 |
| **함께 생각해볼 점** | 기사와 관련해 고민할 만한 포인트 |

#### F4. 3단계 하브루타 질문 생성
사실 -> 생각 -> 가치관 순서로 대화를 심화시키는 계층적 질문 구조

| 단계 | 명칭 | 목적 | 아이콘 색상 |
|------|------|------|-------------|
| **1단계** | 사실 확인 질문 | 기사 내용을 정확히 이해했는지 확인 | 파란색 |
| **2단계** | 비판적 사고 질문 | 여러 관점에서 따져보고 생각 넓히기 | 보라색 |
| **3단계** | 가치관 연결 질문 | 나와 가족의 가치관/경험과 연결 | 분홍색 |

**각 질문별 부가 요소:**
- 대화 팁(힌트): 부모가 대화를 이끌어갈 수 있는 가이드
- 힌트 토글: "힌트 보기/숨기기" 버튼

#### F5. 추가 활동 제안
| 항목 | 내용 |
|------|------|
| **대화 시작 문장** | 자연스럽게 대화를 꺼낼 수 있는 표현 2-3개 |
| **함께 해볼 활동** | 기사와 삶을 연결하는 실제 활동 아이디어 |

### 2.2 UX 기능

#### F6. 로딩 상태
- 생성 중 스피너 표시
- 버튼 비활성화 (중복 요청 방지)

#### F7. 아코디언 UI
- 질문 섹션을 접고 펼 수 있는 구조
- 각 질문을 개별 카드로 표현

#### F8. 반응형 디자인
- 모바일, 태블릿, 데스크톱 대응
- 터치 친화적 버튼 크기

---

## 3. 비기능 요구사항

### 3.1 성능

| 항목 | 목표 |
|------|------|
| 초기 로드 시간 | < 2초 (LCP) |
| AI 응답 시간 | < 10초 |
| 번들 크기 | < 200KB (gzipped) |

### 3.2 보안

| 항목 | 요구사항 |
|------|----------|
| API 키 보호 | 서버 환경변수 관리, 클라이언트 노출 금지 |
| 입력 검증 | XSS 방지, 입력 길이 제한 |
| HTTPS | 필수 |

### 3.3 접근성

| 항목 | 요구사항 |
|------|----------|
| 표준 | WCAG 2.1 AA |
| 키보드 | 전체 기능 키보드 접근 가능 |
| 스크린 리더 | ARIA 라벨 적용 |
| 색상 대비 | 4.5:1 이상 |

### 3.4 호환성

| 환경 | 지원 범위 |
|------|----------|
| 브라우저 | Chrome 90+, Safari 15+, Firefox 90+, Edge 90+ |
| 모바일 | iOS Safari 15+, Android Chrome 90+ |
| 해상도 | 320px ~ 2560px |

---

## 4. 기술 아키텍처

### 4.1 기술 스택

| 레이어 | 기술 | 비고 |
|--------|------|------|
| **프론트엔드** | Vanilla JavaScript + Tailwind CSS | SPA, 프레임워크 미사용 |
| **백엔드** | Vercel Serverless Functions | API 프록시 역할 |
| **AI 엔진** | Google Gemini API | gemini-1.5-flash / gemini-2.0-flash |
| **호스팅** | Vercel | 자동 배포, CDN |

### 4.2 시스템 아키텍처

```
[사용자 브라우저]
       |
       | (1) 기사 텍스트 + 연령대
       v
[Vercel Serverless Function]  (/api/generate)
       |
       | (2) Gemini API 호출 (서버사이드)
       v
[Google Gemini API]
       |
       | (3) 구조화된 JSON 응답
       v
[Vercel Serverless Function]
       |
       | (4) 파싱된 결과 반환
       v
[사용자 브라우저]  → 결과 렌더링
```

### 4.3 API 설계

#### POST /api/generate

**Request:**
```json
{
  "article": "뉴스 기사 본문 텍스트...",
  "ageGroup": "elementary-high"
}
```

**연령대 옵션:**
| 값 | 레이블 |
|----|--------|
| `elementary-low` | 초등 저학년 (1-3학년) |
| `elementary-high` | 초등 고학년 (4-6학년) |
| `middle` | 중학생 |
| `high` | 고등학생 |

**Response:**
```json
{
  "analysis": {
    "coreEvent": "핵심 사건 요약",
    "socialBackground": "사회적 배경 설명",
    "thinkAbout": ["생각해볼 점 1", "생각해볼 점 2"]
  },
  "questions": {
    "factCheck": [
      {
        "question": "사실 확인 질문",
        "hint": "대화 팁"
      }
    ],
    "criticalThinking": [
      {
        "question": "비판적 사고 질문",
        "hint": "대화 팁"
      }
    ],
    "valueConnection": [
      {
        "question": "가치관 연결 질문",
        "hint": "대화 팁"
      }
    ]
  },
  "activities": {
    "conversationStarters": ["시작 문장 1", "시작 문장 2"],
    "activities": ["활동 제안 1", "활동 제안 2"]
  }
}
```

### 4.4 Gemini 프롬프트 전략

**프롬프트 구성 요소:**
1. 역할 설정: 교육 전문가 + 하브루타 전문가
2. 연령대 컨텍스트: 선택된 학년에 맞는 어휘/깊이 지시
3. 출력 구조: JSON 형식 강제
4. 3단계 질문 체계: 사실 -> 비판적 사고 -> 가치관
5. 한국어 응답 지시

---

## 5. 화면 설계

### 5.1 페이지 구조 (단일 페이지)

```
┌─────────────────────────────────────────────────┐
│                    HEADER                        │
│  "뉴스 하브루타 질문 생성기"                      │
│  "기사 한 편으로 아이와 나누는 깊은 대화"          │
├─────────────────────────────────────────────────┤
│                                                  │
│  ┌─── 입력 카드 ──────────────────────────────┐  │
│  │  [ ] 초등저  [x] 초등고  [ ] 중학  [ ] 고등 │  │
│  │                                             │  │
│  │  ┌─────────────────────────────────────┐   │  │
│  │  │  기사 내용을 붙여넣으세요...          │   │  │
│  │  │                                     │   │  │
│  │  └─────────────────────────────────────┘   │  │
│  │                                             │  │
│  │         [ 질문 생성하기 ▶ ]                  │  │
│  └─────────────────────────────────────────────┘  │
│                                                  │
│  ┌─── 기사 분석 ──────────────────────────────┐  │
│  │  📰 핵심 사건: ...                          │  │
│  │  🌍 사회적 배경: ...                        │  │
│  │  💡 함께 생각해볼 점: ...                    │  │
│  └─────────────────────────────────────────────┘  │
│                                                  │
│  ┌─── 1단계: 사실 확인 질문 (파란색) ──────────┐  │
│  │  Q1. 질문 내용...                           │  │
│  │      [힌트 보기 💡]                         │  │
│  │  Q2. 질문 내용...                           │  │
│  │      [힌트 보기 💡]                         │  │
│  └─────────────────────────────────────────────┘  │
│                                                  │
│  ┌─── 2단계: 비판적 사고 질문 (보라색) ────────┐  │
│  │  Q1. 질문 내용...                           │  │
│  │      [힌트 보기 💡]                         │  │
│  └─────────────────────────────────────────────┘  │
│                                                  │
│  ┌─── 3단계: 가치관 연결 질문 (분홍색) ────────┐  │
│  │  Q1. 질문 내용...                           │  │
│  │      [힌트 보기 💡]                         │  │
│  └─────────────────────────────────────────────┘  │
│                                                  │
│  ┌─── 추가 활동 ──────────────────────────────┐  │
│  │  💬 대화 시작 문장: ...                     │  │
│  │  🎯 함께 해볼 활동: ...                     │  │
│  └─────────────────────────────────────────────┘  │
│                                                  │
└─────────────────────────────────────────────────┘
```

### 5.2 디자인 가이드

**색상 시스템:**

| 용도 | 색상 | HEX (참고) |
|------|------|------------|
| 배경 | 밝은 그레이/화이트 | `#F9FAFB` |
| 카드 배경 | 반투명 화이트 | `white/80` |
| 1단계 (사실) | 파란색 계열 | `#3B82F6` |
| 2단계 (사고) | 보라색 계열 | `#8B5CF6` |
| 3단계 (가치) | 분홍색 계열 | `#EC4899` |
| 주요 버튼 | 인디고 계열 | `#4F46E5` |

**타이포그래피:**
- 제목: 굵은 체, 큰 사이즈
- 본문: 가독성 중심, 적절한 행간
- 질문: 중간 굵기, 구분 가능한 크기

**UI 패턴:**
- 카드 기반 레이아웃 (`rounded-xl`, `shadow`)
- 아코디언 펼침/접기
- 힌트 토글 버튼
- 로딩 스피너

---

## 6. 데이터 모델

### 6.1 입력 데이터

```typescript
interface GenerateRequest {
  article: string;        // 뉴스 기사 본문 (필수, 최소 50자)
  ageGroup: AgeGroup;     // 연령대 (필수)
}

type AgeGroup =
  | 'elementary-low'    // 초등 저학년 (1-3학년)
  | 'elementary-high'   // 초등 고학년 (4-6학년)
  | 'middle'            // 중학생
  | 'high';             // 고등학생
```

### 6.2 출력 데이터

```typescript
interface GenerateResponse {
  analysis: ArticleAnalysis;
  questions: HavrutaQuestions;
  activities: Activities;
}

interface ArticleAnalysis {
  coreEvent: string;          // 핵심 사건 요약
  socialBackground: string;   // 사회적 배경
  thinkAbout: string[];       // 생각해볼 점 목록
}

interface HavrutaQuestions {
  factCheck: Question[];          // 1단계: 사실 확인
  criticalThinking: Question[];   // 2단계: 비판적 사고
  valueConnection: Question[];    // 3단계: 가치관 연결
}

interface Question {
  question: string;   // 질문 내용
  hint: string;       // 대화 팁/힌트
}

interface Activities {
  conversationStarters: string[];  // 대화 시작 문장
  activities: string[];            // 활동 제안
}
```

---

## 7. 에러 처리

### 7.1 에러 시나리오

| 시나리오 | 처리 방식 | 사용자 메시지 |
|----------|----------|---------------|
| 빈 기사 입력 | 클라이언트 검증 | "기사 내용을 입력해주세요" |
| 기사 너무 짧음 | 클라이언트 검증 | "기사 내용이 너무 짧습니다 (최소 50자)" |
| API 키 미설정 | 서버 에러 500 | "서비스 설정 오류입니다. 관리자에게 문의하세요" |
| Gemini API 실패 | 서버 에러 502 | "AI 서비스가 일시적으로 불안정합니다. 잠시 후 다시 시도해주세요" |
| 응답 파싱 실패 | 서버 에러 500 | "결과 처리 중 오류가 발생했습니다. 다시 시도해주세요" |
| 네트워크 오류 | 클라이언트 에러 | "인터넷 연결을 확인해주세요" |
| Rate Limit | 서버 에러 429 | "요청이 너무 많습니다. 잠시 후 다시 시도해주세요" |

---

## 8. 향후 개선 사항 (Backlog)

### Phase 2 - 사용성 개선
| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 기사 URL 입력 | URL 입력 시 자동 크롤링 | High |
| 결과 저장/공유 | PDF 다운로드, 링크 공유 | High |
| 히스토리 관리 | 이전 생성 결과 조회 | Medium |
| 즐겨찾기 | 좋은 질문 저장 | Medium |

### Phase 3 - 기능 확장
| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 다국어 지원 | 영어 기사 지원 | Medium |
| 교사용 모드 | 수업 자료 형식 출력 | Medium |
| 카테고리 분류 | 정치/경제/사회/과학 등 자동 분류 | Low |
| 난이도 커스텀 | 세밀한 난이도 조절 슬라이더 | Low |

### Phase 4 - 플랫폼화
| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 회원 가입 | 개인화된 경험 제공 | Medium |
| 대시보드 | 학습 이력, 통계 | Low |
| 커뮤니티 | 학부모/교사 질문 공유 | Low |
| 모바일 앱 | PWA 또는 네이티브 앱 | Low |

---

## 9. 성공 지표 (KPI)

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 일일 활성 사용자 (DAU) | 100명 (런칭 1개월) | Analytics |
| 질문 생성 완료율 | > 80% | 생성 버튼 클릭 대비 결과 표시 비율 |
| 평균 세션 시간 | > 3분 | Analytics |
| 재방문율 | > 40% (7일 이내) | Analytics |
| AI 응답 성공률 | > 95% | 서버 로그 모니터링 |
| 평균 응답 시간 | < 8초 | APM |

---

## 10. 릴리스 계획

### MVP (Phase 1)
- [x] 기사 텍스트 입력
- [x] 4단계 연령대 선택
- [x] AI 기반 기사 분석 (핵심 사건, 배경, 생각할 점)
- [x] 3단계 하브루타 질문 생성 (사실/사고/가치관)
- [x] 질문별 힌트(대화 팁) 제공
- [x] 대화 시작 문장 + 활동 제안
- [x] 반응형 디자인
- [x] Vercel 서버사이드 API 키 관리

### 배포 환경
- **호스팅**: Vercel
- **도메인**: test-one1.vercel.app (현재)
- **AI 모델**: Google Gemini 1.5 Flash / 2.0 Flash

---

## 부록

### A. 하브루타 교육법 참고
하브루타(Havruta)는 유대인 전통 학습법으로, 짝을 이뤄 질문하고 토론하며 깊은 이해에 도달하는 방법입니다. 본 서비스는 이를 부모-자녀 관계에 적용하여 뉴스를 매개로 한 교육적 대화를 구조화합니다.

### B. 3단계 질문 설계 원리

```
1단계 (사실 확인)     → Bloom's: 기억/이해
   "무엇이 일어났나요?"

2단계 (비판적 사고)   → Bloom's: 분석/평가
   "왜 이런 일이 일어났을까요?"

3단계 (가치관 연결)   → Bloom's: 창조/적용
   "나라면 어떻게 했을까요?"
```

이 구조는 블룸의 교육목표 분류학(Bloom's Taxonomy)에 기반하여 저차원 사고에서 고차원 사고로 자연스럽게 이행하도록 설계되었습니다.
